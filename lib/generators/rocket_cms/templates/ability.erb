class Ability
  include CanCan::Ability

  def initialize(user)
    if !user.nil? and (user.admin? or user.manager?)
      can :read, :all
      can :manage, :all
      if user.admin?
        admin_ui(user)
      elsif user.manager?
        manager_ui(user)
      end
    end
  end

  def admin_ui(user)
    can :access, :rails_admin   # grant access to rails_admin
    can :dashboard              # grant access to the dashboard
  end

  def manager_ui(user)
    can :access, :rails_admin   # grant access to rails_admin
    can :dashboard              # grant access to the dashboard
    cannot :manage, Menu
    cannot [:edit, :destroy, :new, :create], User
    can :edit, user
  end
end